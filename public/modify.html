<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Modify Data</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="Pictures/what-is-the-eye-of-horus-jewelry.webp">
</head>
<body>

    <nav>
        <a href="index.html" class="navbar-link">
            <img src="Pictures/owl.ico" alt="Navbar Image" class="navbar-img" >GlyphCo
        </a>

        <a class="navbar-link" href="modify.html">
            <img src="Pictures/pencil_11761763.png" alt="Navbar Image" style="height: 20px; width: 20px;">Modify Data</a>

    </nav>

    <h2 style="color: #B58440;">Submitted drawings</h2>
    <div id="fileList"></div>

    <script>
        async function fetchFiles() {
            try {
                const response = await fetch('/api/files');
                const files = await response.json();
                processList(files);
            } catch (error) {
                console.error('Error fetching files:', error);
            }
        }

        function processList(files) {
            console.log('Processing....');
            const fileListContainer = document.getElementById('fileList');
            files.forEach(file => {
                // Create a new div element for each submitted drawing
                const drawingDiv = document.createElement('div');
                drawingDiv.classList.add('drawing-item');

                // Create an image element to display the drawing
                const image = document.createElement('img');
                image.src = file.thumbnailLink; // Assuming thumbnailLink contains the URL of the drawing

                // Append the image to the drawing div
                drawingDiv.appendChild(image);

                // Append the drawing div to the file list container
                fileListContainer.appendChild(drawingDiv);
            });
        }

        fetchFiles();
    </script>
</body>
</html>
